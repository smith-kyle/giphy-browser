(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(37),o=n.n(r),c=(n(84),n(14)),l=n(17),s=n(9),u=n(78),d=n(10),h=n(77),f=n(176),g=n(175),p=n(174),m=n(173),w=function(e,t){var n=new URL(e);return n.search=new URLSearchParams(t),n},b=function(e){return e.window},E=Object(d.a)(b,function(e){return e.width}),v=Object(d.a)(b,function(e){return e.height}),y=function(e){return e.gifs},j=Object(d.a)(y,function(e){return e.gifs}),O=Object(d.a)(j,h.a(function(e,t){var n=t.id,i=Object(u.a)(t,["id"]);return Object(s.a)({},e,Object(l.a)({},n,Object(s.a)({id:n},i)))},{})),I=Object(d.a)(y,O,function(e,t){var n=e.selectedId;return null===n?null:t[n]}),S=Object(d.a)(y,function(e){return e.selectedUrl}),L=Object(d.a)(j,f.a),_=function(e){return e.forms},C=Object(d.a)(_,function(e){return e.query}),k=Object(d.a)(_,function(e){return e.isLoading}),x=Object(d.a)(C,g.a(p.a(""),m.a)),N={api_key:"QGD7tgrph7TOmMoTcoxuQVgzxLiYuERS"},T=Object(d.a)(L,x,C,function(e,t,n){return t?w("https://api.giphy.com/v1/gifs/search",Object(s.a)({},N,{q:n,offset:e})):w("https://api.giphy.com/v1/gifs/trending",Object(s.a)({},N,{offset:e}))}),R=n(50),D=n.n(R),W=n(43),G=n.n(W),U=function(e){return{type:"SET_IS_LOADING",payload:e}},F=function(e){return{type:"SET_SELECTED_GIF",payload:e}},H=function(e){return{type:"SET_SELECTED_GIF_URL",payload:e}},q=G()(function(e,t){var n=T(t());return D()(n).then(function(e){return e.json()}).then(function(t){var n=t.data;return e({type:"ADD_GIFS",payload:n})}).then(function(){return e(U(!1))}).catch(function(t){console.error(t),e(U(!1))})},400),z=n(70),A=n.n(z),B=n(71),P=n.n(B),Q=n(72),Y=n.n(Q),M=n(74),J=n.n(M),V=n(44),$=n(13),K=n(73),X=n.n(K),Z=Object($.withStyles)(function(e){return{root:{width:"100%"},bar:{height:64,position:"relative",zIndex:2},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(l.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(l.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(V.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(V.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(l.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})(function(e){var t=e.classes,n=e.query,i=e.onChange,r=e.children;return a.a.createElement("div",{className:t.root},a.a.createElement(A.a,{className:t.bar,position:"static"},a.a.createElement(P.a,null,a.a.createElement(Y.a,{className:t.title,variant:"h6",color:"inherit",noWrap:!0},"Giphy Search"),a.a.createElement("div",{className:t.grow}),a.a.createElement("div",{className:t.search},a.a.createElement("div",{className:t.searchIcon},a.a.createElement(X.a,null)),a.a.createElement(J.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},onChange:i,value:n})))),r)}),ee={onChange:function(e){var t=e.target.value;return function(e){return e({type:"SET_QUERY",payload:t}),e({type:"CLEAR_GIFS"}),e(U(!0)),e(q)}}},te=Object(c.b)(function(e){return{query:C(e)}},ee)(function(e){return a.a.createElement(Z,e)}),ne=n(75),ie=n.n(ne),ae=Object($.withStyles)({root:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center",marginTop:10,minHeight:100}})(function(e){var t=e.classes,n=e.color,i=e.isLoading;return a.a.createElement("div",{className:t.root},i?a.a.createElement(ie.a,{color:n}):null)}),re=Object(c.b)(function(e){return{isLoading:k(e)}})(ae),oe=Object($.withStyles)({root:{display:"flex",flexWrap:"wrap",overflow:"scroll",justifyContent:"flex-start"},li:{width:"31%",height:164,listStyle:"none",padding:"1%"},imageWrapper:{overflow:"hidden",cursor:"pointer",height:"100%",display:"block",position:"relative"},image:{top:"50%",position:"relative",transform:"translateY(-50%)",width:"100%"}})(function(e){var t=e.classes,n=e.gifs,r=e.getNextPage,o=e.onClickImage,c=e.windowHeight,l=e.windowWidth,s=Object(i.useRef)(null);return Object(i.useEffect)(function(){var e,t=function(e){var t=e.target,n=t.scrollTop,i=t.scrollHeight;n+t.clientHeight>=i&&r()};return s.current&&(e=s.current).addEventListener("scroll",t),function(){return e.removeEventListener("scroll",t)}}),a.a.createElement("div",{className:t.root,ref:s,style:{width:l,height:c-64}},n.map(function(e){return a.a.createElement("li",{className:t.li,key:e.id},a.a.createElement("div",{className:t.imageWrapper,onClick:function(){return o(e.id)}},a.a.createElement("img",{className:t.image,src:e.images.fixed_height_small.url,style:{},alt:e.title})))}),a.a.createElement(re,null))}),ce=Object(c.b)(function(e){return{gifs:j(e),windowHeight:v(e),windowWidth:E(e)}},function(e){return{getNextPage:function(){e(U(!0)),e(q)},onClickImage:function(t){return e(function(e){return function(t,n){t(F(e));var i=I(n());return D()(i.images.original.url).then(function(e){return e.blob()}).then(function(e){return t(H(URL.createObjectURL(e)))})}}(t))}}})(oe),le=n(18),se={gifs:[],selectedId:null,selectedUrl:null},ue={query:"",isLoading:!1},de={height:window.innerHeight,width:window.innerWidth},he=Object(le.c)({forms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return Object(s.a)({},e,{query:t.payload});case"SET_IS_LOADING":return Object(s.a)({},e,{isLoading:t.payload});default:return e}},gifs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_GIFS":return Object(s.a)({},e,{gifs:e.gifs.concat(t.payload)});case"CLEAR_GIFS":return Object(s.a)({},e,{gifs:[]});case"SET_SELECTED_GIF":return Object(s.a)({},e,{selectedId:t.payload});case"SET_SELECTED_GIF_URL":return Object(s.a)({},e,{selectedUrl:t.payload});default:return e}},window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WINDOW_DIMS":return t.payload;default:return e}}}),fe=n(76),ge=Object(le.d)(he,Object(le.a)(fe.a)),pe=Object($.withStyles)({root:{position:"absolute",backgroundColor:"rgba(0,0,0, 0.7)",alignItems:"center",justifyContent:"center",display:"flex",height:"100%",width:"100%",top:0,zIndex:3},image:{display:"block",maxWidth:"80%",maxHeight:"90%",width:"auto",height:"auto"}})(function(e){var t=e.classes,n=e.gif,i=e.gifUrl,r=e.close;return n?a.a.createElement("div",{className:t.root,onClick:r},i?a.a.createElement("img",{alt:n.title,className:t.image,onClick:function(e){return e.stopPropagation()},src:i,width:n.images.original.width,height:n.images.original.height}):a.a.createElement(ae,{color:"secondary",isLoading:!0})):null}),me=Object(c.b)(function(e){return{gif:I(e),gifUrl:S(e)}},function(e){return{close:function(){e(F(null)),e(H(null))}}})(pe),we=function(){var e=G()(function(){return ge.dispatch({type:"SET_WINDOW_DIMS",payload:{height:window.innerHeight,width:window.innerWidth}})},100);return ge.dispatch(U(!0)),ge.dispatch(q),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},be=Object($.withStyles)({results:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative",zIndex:1}})(function(e){var t=e.classes;return Object(i.useEffect)(we,[]),a.a.createElement("div",null,a.a.createElement(te,null,a.a.createElement("div",{className:t.results},a.a.createElement(ce,null))),a.a.createElement(me,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(c.a,{store:ge},a.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},79:function(e,t,n){e.exports=n(171)},84:function(e,t,n){}},[[79,1,2]]]);
//# sourceMappingURL=main.906262a6.chunk.js.map